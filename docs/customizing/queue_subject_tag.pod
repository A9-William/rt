=head1 Queue subject tags

This document is about the 'Subject Tag' property of a queue. This
property allows you to use different tags in the subjects of email which
RT sends.  By default, the C<rtname> option from the configuration file
is used for all queues; by changing the subject tag on a per-queue
basis, you can effectively "brand" individual queues in a single RT
instance.

=head2 Setting the subject tag

In RT's web UI, go to -E<gt> Configuration -E<gt> Queues -E<gt> Select,
and select the queue to change.  Enter the 'subject tag' you wish, then
click "save changes."

=head2 Using the subject tag in templates

Usually, you won't need to add any code to your templates to make the
subject tags work. A tag will automatically be added in the beginning of
subject before sending email out.

If you want to subjects to be "prefix [tag] real subject" like in
default Autoreply template, you can use the following code in templates
to place of the subject tag:

    { $Ticket->SubjectTag }


=head1 UPGRADING

=head2 For everyone who is upgrading

You need to modify any of your email templates which use
the $rtname variable. To edit your templates, log into RT
as your administrative user, then click:

    Configuration -> Global -> Templates -> Select -> <Some template name>

The only template which ships with RT which needs updating is the
"Autoreply" template, which includes this line:

    "There is no need to reply to this message right now.  Your ticket
    has been assigned an ID of [{$rtname} #{$Ticket->id()}]."

Change this line to read:

    "There is no need to reply to this message right now.  Your ticket
    has been assigned an ID of { $Ticket->SubjectTag }."

=head2 For users of RT-Extension-BrandedQueues

RT-Extension-BrandedQueues was an implementation of this functionality
which is available from CPAN for older versions of RT.  The
functionality was folded into core RT in version 3.8 and above; if you
are B<UPGRADING> from an older version of RT where you were using this
extension, follow the instructions below:

1) You MUST uninstall RT-Extension-BrandedQueues before upgrading, or
reinstall RT into a new directory, and reinstall your local
customizations. The latter is recommended, as there are many changes in
RT 3.8 and several extensions have been integrated into core.

2) Ensure that you have a current backup of your RT database, and you
can restore from it.

3) After upgrading, run the 'etc/upgrade/3.8-branded-queues-extension'.
perl script.  This will convert the extension's configuration into new
format.

4) In templates where you were using the Tag method (for example C<<
$Ticket-E<gt>QueueObj-E<gt>Tag >>), replace it with C<<
$Ticket->SubjectTag >>, as noted above in L</"Using the subject tag in
templates">.

=cut
