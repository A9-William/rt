%# $Header$
%# Copyright 1996-2000 Jesse Vincent <jesse@fsck.com> 

<& /Elements/Header, Title => "Create a new ticket" &>
<& /Elements/Tabs, current_toptab => "Ticket/Create.html" &>
<FORM ACTION="Display.html" METHOD="POST">
<INPUT TYPE=HIDDEN Name="id" VALUE="new">
<& /Elements/TitleBoxStart, contentbg => "#cccccc", title => "Create a new ticket"&>

<TABLE>
<TR><TD>Queue</TD>
<TD><% $QueueObj->QueueId %>
<INPUT TYPE=HIDDEN NAME=Queue Value="<%$QueueObj->QueueId%>">
</TD>
<TD>Status:
</TD>
<TD>
<& /Elements/SelectStatus, Name => "Status", Default=> 'new' &>
</TD>
<TD>
Owner: 
</TD>
<TD>
<& /Elements/SelectOwner, Name => "ValueOfOwner", QueueObj => $QueueObj &>
</TD>
</TR>
<TR>
<TD>
Requestors: 
</TD>
<TD COLSPAN=5>
<INPUT Name="Requestors" Value="<%$session{CurrentUser}->EmailAddress%>" SIZE=40>
</TD>
</TR>
<TR>
<TD>
Cc:
</TD>
<TD COLSPAN=5>
 <INPUT NAME="Cc" SIZE=40>
</TD>
</TR>

<TR>
<TD>
Subject:
</TD>
<TD COLSPAN=5>
<INPUT Name="Subject" SIZE=60 MAXSIZE=100 value="">
</TD>
</TR>

<TR>
<TD>
Relationships
</TD>
<TD COLSPAN=5>
<TABLE>
<TR>
<TD>
Depended on by:<BR><input size=5 name="DependsOn" value="<% $DependsOn %>">
</TD>
<TD>
Depends on:
<BR>
<input size=5 name="DependedOnBy" value="<% $DependedOnBy %>">
</TD>
<TD>Subticket of:<BR>
<input size=5 name="MemberOf" value="<% $MemberOf %>">
</TD>
</TR>
</TABLE>
</TD>
</TR>
<TR>
<TD>
Attach file:
</TD>
<TD COLSPAN=5>
<INPUT TYPE=FILE NAME="Attachment">
</TD>
</TR>
<TR>
<TD COLSPAN=6>
Describe the issue below:<br>
<& /Elements/MessageBox, QuoteTransaction => $QuoteTransaction &>

<BR>
</TD>
</TR>
<TR>
<TD ALIGN=RIGHT COLSPAN=2>
</TD>
</TR>
</TABLE>
<& /Elements/TitleBoxEnd &>
<& /Elements/Submit, Label => "Create ticket"&>


</FORM>

<%INIT>
my $QueueObj = new RT::Queue($session{'CurrentUser'});
$QueueObj->Load($Queue) || Abort("Queue could not be loaded.");
</%INIT>

<%ARGS>
$DependsOn => undef
$DependedOnBy => undef
$MemberOf => undef
$QuoteTransaction => undef
$Queue => undef
</%ARGS>
