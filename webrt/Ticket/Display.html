%# $Header$
%# Copyright 1996-2000 Jesse Vincent <jesse@fsck.com>

<& /Elements/Header, Title => "Ticket View (#".$Ticket->Id.($Ticket->Subject&&(", ".$Ticket->Subject)).")" &>

% for (@Actions) {
   <%$_%><br>
% }


<& /Ticket/Elements/TicketToolBox, Ticket => $Ticket&>

<& /Ticket/Elements/ShowSummary,  Ticket => $Ticket &>
<& /Elements/TitleBoxEnd &>

<h1>Ticket History</h1>

<& /Ticket/Elements/ShowHistory , Ticket => $Ticket &> 

<& /Elements/TitleBoxEnd &>

<%ARGS>
$id => undef
</%ARGS>

<%INIT>

&Error('No ticket specified') unless $id;

use RT::Ticket;
use RT::CurrentUser;
use RT::Interface::Web;

my @Actions;

my $Ticket = CreateOrLoad(id=>$id, ARGS=>\%ARGS, Actions=>\@Actions);
$id=$Ticket->Id;

# Eventually, link up the ticket:

&LinkUpIfRequested(ARGS=>\%ARGS, Actions=>\@Actions, Ticket=>$Ticket);


      # Eventually, update the told, take, steal, kill the ticket:

&DoAsRequested(ARGS=>\%ARGS, Actions=>\@Actions, Ticket=>$Ticket);

</%INIT>




