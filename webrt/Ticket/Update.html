
<& /Elements/Header, Title=>"Update Ticket" &>

<H1> Update ticket <% $Ticket->Id %> </H1>
<FORM ACTION="ProcessUpdate.html" METHOD=POST>

<TABLE>
<TR>
<TD ALIGN=RIGHT>
Subject:
</TD>
<TD> <% $Ticket->Subject %>
</TD>
</TR>
<TR>
<TD ALIGN=RIGHT>Interested Parties:
</TD>
<TD><ul>
<li>	Requestor:<% $Ticket->RequestorsAsString %> <br>
<li>	Cc:<% $Ticket->CcAsString %><br>
<li>	AdminCc: <% $Ticket->AdminCcAsString %> <br>
</ul>
</TD>
</TR>
</TABLE>

Status:
<& /Elements/SelectStatus, Name=>"SetStatus", Default => $Ticket->Status() &> 

Owner:  
<& /Elements/SelectOwner, Name=>"SetOwner", Default => ($Ticket->Owner ? $Ticket->Owner->Id() : 'nobody'), Queue => $Ticket->Queue() &>

Time Worked: 
<input size=4 name="UpdateTimeWorked"> minutes<br>
<hr>
Update Type: <select name="UpdateType">
		<option value="private">Private Comments (Invisible to watchers)</option>
		<option value="public">Public Comments (Visible to watchers) <B>CURRENTLY NONEXISTENT</B> </option>
		<option value="response" SELECTED>Response (Sent to watchers)</option>
	</select> <br>

Update Subject: <input name="UpdateSubject" size=60 value="Re: <% $Ticket->Subject %>"> <br>
<& /Elements/MessageBox, Name=>"UpdateContent", QuoteTransaction=>$ARGS{QuoteTransaction} &>
<INPUT TYPE=HIDDEN NAME=id VALUE="<%$Ticket->Id%>"><br>
<b>Are you sure you're doing the <i>right</i> thing now?</b>
<INPUT TYPE=SUBMIT VALUE="Comment/Reply/Update">
</FORM>
</HTML>

<%INIT>
use RT::Ticket;
my $Ticket=RT::Ticket->new($session{'CurrentUser'});
$Ticket->Load($ARGS{'id'});
</%INIT>
