<& /Admin/Elements/Header, Title => 'Admin users' &>
<& /Admin/Elements/Tabs, current_tab => 'Admin/Users/' &>


<& /Elements/TitleBoxStart, title => 'Select a user' &>


<UL>

<LI><A HREF="<%$RT::WebPath%>/Admin/Users/Modify.html?Create=1">Create a new user</A><BR><BR></LI>

%while ( $user = $users->Next) {
<LI><A HREF="Modify.html?id=<%$user->id%>"><%$user->id%>: <%$user->UserId%></a></LI>
%}

</UL>

<FORM METHOD=POST ACTION="<% $RT::WebPath %>/Admin/Users/">
Find users with email addresses like like: <INPUT SIZE=8 NAME="EmailLike VALUE="<%$EmailLike%>"> and UserIds like <INPUT SIZE=8 NAME="IdLike" VALUE="<%$IdLike%>"> <INPUT TYPE="submit" Value="Go">

<& /Elements/TitleBoxEnd &>

<%INIT>
my ($user);
my $users = new RT::Users($session{'CurrentUser'});

if ((!defined $IdLike) and (!defined $EmailLike) ) {
    $users->LimitToPrivileged();
}
else {
    if (defined $IdLike) {
$users->Limit(FIELD => 'UserId',
              VALUE => $IdLike,
              OPERATOR => 'LIKE' );
}
if (defined $EmailLike) {
$users->Limit(FIELD => 'EmailAddress',
              VALUE => $EmailLike,
              OPERATOR => 'LIKE');

}
}
</%INIT>
<%ARGS>
$IdLike => undef
$EmailLike => undef
</%ARGS>
