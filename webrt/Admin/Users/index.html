<& /Admin/Elements/Header, Title => 'Admin users' &>
<& /Admin/Elements/Tabs &>

<TABLE WIDTH=100% BORDER=0>
<TR>
<TD VALIGN=TOP>
<UL>

<LI><A HREF="<%$RT::WebPath%>/Admin/Users/Modify.html?Create=1">Create a new user</A><BR><BR></LI>

%while ( $user = $users->Next) {
<LI><A HREF="Modify.html?id=<%$user->id%>"><%$user->id%>: <%$user->UserId%></a></LI>
%}



</UL>
<TD VALIGN=TOP>
<& /Elements/TitleBoxStart, title => 'Search for users...' &>
<FORM METHOD=GET ACTION="<% $RT::WebPath %>/Admin/Users/">
<BR>
Email like: <INPUT SIZE=8 NAME="EmailLike VALUE="<%$EmailLike%>"> (and)<BR>
UserId like: <INPUT SIZE=8 NAME="IdLike" VALUE="<%$IdLike%>"><BR>
<BR>
<& /Elements/TitleBoxEnd &>
<& /Elements/Submit &>
</FRONT>
</TD>
</TR>
</TABLE>


<%INIT>
my ($user);
my $users = new RT::Users($session{'CurrentUser'});

if ((!defined $IdLike) and (!defined $EmailLike) ) {
    $users->LimitToPrivileged();
}
else {
    if (defined $IdLike) {
$users->Limit(FIELD => 'UserId',
              VALUE => $IdLike,
              OPERATOR => 'LIKE' );
}
if (defined $EmailLike) {
$users->Limit(FIELD => 'EmailAddress',
              VALUE => $EmailLike,
              OPERATOR => 'LIKE');

}
}
</%INIT>
<%ARGS>
$IdLike => undef
$EmailLike => undef
</%ARGS>
