# BEGIN LICENSE BLOCK
# 
# Copyright (c) 1996-2002 Jesse Vincent <jesse@bestpractical.com>
# 
# (Except where explictly superceded by other copyright notices)
# 
# This work is made available to you under the terms of Version 2 of
# the GNU General Public License. A copy of that license should have
# been provided with this software, but in any event can be snarfed
# from www.gnu.org
# 
# This work is distributed in the hope that it will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.
# 
# 
# Unless otherwise specified, all modifications, corrections or
# extensions to this work which alter its source code become the
# property of Best Practical Solutions, LLC when submitted for
# inclusion in the work.
# 
# 
# END LICENSE BLOCK
RT is an enterprise-grade issue tracking system. [it needs more description
here before 3.0.0]

This is a BETA release. It's not been field-tested enough to be recommended 
for production deployment, but it's proven itself stable in internal testing 
and is largely feature complete.

        Jesse Vincent
        Best Practical Solutions, LLC
        5 Feb 2003

REQUIRED PACKAGES:
------------------

o   Perl5.6.1 or later.


        RT's FastCGI handler runs setgid to the 'RT' group
	to protect RT's database password.  You may need to install a special 
	"suidperl" package or reconfigure your perl setup to support
	 "setuid scripts" if you intend to use RT with FastCGI.


        If you intend to use RT's support for non-english languages, it is 
        STRONGLY recommended that you use perl 5.8.0 or newer, as it contains 
        significantly enhanced support for Unicode and non-english languages.
         (Put another way, trying to use RT with Perl 5.6.1 in a
          non-English-speaking environment will hurt a lot.)

o   A DB backend; MySQL is recommended ( http://www.mysql.com ) 
        Currently supported:  Mysql 4.0.6 or newer. 
                              Mysql 3.23.46 or newer with support for InnoDB 
				 (Some older releases had crippling SQL bugs)
				Postgres 7.2 or later

o   Apache (1.3.x or 2.x) with mod_perl -- ( http://perl.apache.org ) 
    or A webserver with FastCGI support (www.fastcgi.com)

	If you compile mod_perl on Apache 1.3.x as a DSO, you're on your own;
	It's known to have massive stability problems. 

        mod_perl 1.x must be build with EVERYTHING=1

o    Various and sundry perl modules
        RT takes care of the installation of most of these automatically
        during the "make testdeps" and "make fixdeps" stages below


GENERAL INSTALLATION
--------------------

1   Unpack this distribution SOMWHERE OTHER THAN where you want to install RT

        Granted, you've already got it open. To do this cleanly:

        	tar xzvf rt-2-1-xx.tar.gz -C /tmp

2   Run the "configure" script. 

        ./configure --help to see the list of options
        ./configure (with the flags you want)

3   Satisfy RT's myriad dependencies. 

3.1   Check for compliance:
        
        perl sbin/rt-test-dependencies \
                --with-<databasename> --with-<web-environment>

        databasename is one of: mysql, postgres
        web-environment is one of: fastcgi, modperl1, modperl2

3.2   If there are unsatisfied dependencies, install them by hand or run:

        perl sbin/rt-test-dependencies \
                --with-<databasename> --with-<web-environment> --install
	

3.3   Check to make sure everything was installed properly:

        perl sbin/rt-test-dependencies \
                --with-<databasename> --with-<web-environment>

4   Create a group called 'rt'

5a  FOR A NEW INSTALLATION: 
        
        As root, type:
		 make install	(replace "make" with the local name for 
				 Make, if you need to)

                       
                 make initialize-database 


	If the make fails, type:
		make dropdb 
	and start over from step 5a

5b  FOR UPGRADING: (Within the RT 3.0.x series)

        As root, type: 
		make upgrade     (replace "make" with the local name for 
				  Make, if you need to)

	This will build new binaries, config files and libraries without
	overwriting your RT database. 
        
        It may then instruct you to update your RT system database objects 

6   Edit etc/RT_SiteConfig.pm in your RT installation directory, by specifying
    any values you need to change from the defaults in etc/RT_Config.pm

7   Configure the email and web gateways, as described below. 

8   Stop and start your webserver, so it picks up your configuration changes.

    NOTE: root's password for the web interface is "password" 
    (without the quotes.)  Not changing this is a SECURITY risk
    
9   Configure RT per the instructions at http://www.fsck.com/rtfm/

    Until you do this, RT will not be able to send or recieve email,
    nor will it be more than marginally functional.  This is not an
    optional step.



THE WEB UI
----------

RT's web ui is based around HTML::Mason, which works best with the mod_perl
perl interpreter within Apache httpd.  Alternatively, support for the FastCGI
(and plain CGI) interface is also provided as 'bin/mason_handler.fcgi'.

Apache 
        RT Uses HTML::Mason.  You'll need to add a few lines to your
        httpd.conf telling it to use rt's web ui.  If you have mod-perl
	(you should, the perl scripts will go quite a bit faster around with
	it), you can do something like this:

<VirtualHost your.ip.address>
    ServerName your.rt.server.hostname
    DocumentRoot /opt/rt3/share/html
    AddDefaultCharset UTF-8

    # this line applies to Apache2+mod_perl2 only
    PerlModule Apache2 Apache::compat

    PerlModule Apache::DBI
    PerlRequire /opt/rt3/bin/webmux.pl

    <Location />
        SetHandler perl-script
        PerlHandler RT::Mason
    </Location>
</VirtualHost>



SETTING UP THE MAIL GATEWAY 
---------------------------

An alias for the initial queue will need to be made in either your
global mail aliases file (if you are using NIS) or locally on your
machine.
 
Add the following lines to /etc/aliases (or your local equivalent) :

rt:         "|/opt/rt3/bin/rt-mailgate --queue general --action correspond --url http://localhost/"
rt-comment: "|/opt/rt3/bin/rt-mailgate --queue general --action comment --url http://localhost/"
                                            |                |             |
                            <queue-name>----/                |             |
                                                             |             |
               <correspond or comment depending on whether   |             |
               the mail should be resent to the requestor>---/             |
                                                                           |
                                            <URL for RT's web interface>---/


BUGS
----

To report a bug, send email to rt-3.0-bugs@fsck.com.

GETTING HELP
------------

If RT is mission-critical for you or if you use it heavily, we recommend that
you purchase a commercial support contract.  Details on support contracts
are available at http://www.bestpractical.com.

If you're interested in having RT extended or customized or would like more
information about commercial support options, please send email to 
<sales@bestpractical.com> to discuss rates and availability.


RT-USERS MAILINGLIST
--------------------

To keep up to date on the latest RT tips, techniques and extections,
you probably want to join the rt-users mailinglist.  Send a message to:

         rt-users-request@lists.fsck.com 

With the body of the message consisting of only the word:

        subscribe

If you're interested in hacking on rt, you'll want to subscribe to
rt-devel@lists.fsck.com.  Subscribe to it with instructions similar to
those above.

Address questions about the stable release to the rt-users list, and
questions about the development version to the rt-devel list.  If you feel
your questions are best not asked publically, send them personally to
<jesse@bestpractical.com>.


RT WEBSITE
----------

For current information about RT, check out the RT website at 
http://www.bestpractical.com/  You'll find screenshots, a pointer
to the current version of rt, contributed patches and lots of other great
stuff.


TROUBLESHOOTING
---------------

If the solution to the problem you're running into isn't obvious and you've 
checked the FAQ, feel free to send mail to rt-users@fsck.com (for released 
versions of RT) or rt-devel@fsck.com (for development versions).

Thanks!

        Enjoy

        Jesse Vincent
	<jesse@bestpractical.com>
        Best Practical Solutions, LLC
