%# BEGIN LICENSE BLOCK
%# 
%#  Copyright (c) 2002-2003 Jesse Vincent <jesse@bestpractical.com>
%#  
%#  This program is free software; you can redistribute it and/or modify
%#  it under the terms of version 2 of the GNU General Public License 
%#  as published by the Free Software Foundation.
%# 
%#  A copy of that license should have arrived with this
%#  software, but in any event can be snarfed from www.gnu.org.
%# 
%#  This program is distributed in the hope that it will be useful,
%#  but WITHOUT ANY WARRANTY; without even the implied warranty of
%#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%#  GNU General Public License for more details.
%# 
%# END LICENSE BLOCK

Topics:
% my $topics = new RT::FM::ObjectTopicCollection($session{'CurrentUser'});
% $topics->LimitToObject($article);
% if ($topics->Count) {
<ul>
% my @topics;
% while (my $t = $topics->Next) {
%   my @path;
%   my $t = $t->TopicObj;
%   while ($t->Id) {
%     unshift @path, $t;
%     $t = $t->ParentObj;
%   }
%   push @topics, \@path;
% }
% for (sort @topics) {
<li>
% for (@{$_}) {
% if ($_->ParentObj->Id) {
 : 
% }
<a href="<% $RT::WebPath %>/RTFM/Topics.html?class=<% $_->ObjectId %>&id=<% $_->Id %>"><% $_->Name %></a>
% }
</li>
% }
</ul>
% } else {
<i>no topics</i>
% }

<%args>
$article => undef
</%args>
