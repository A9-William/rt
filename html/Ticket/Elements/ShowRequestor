<%PERL>
my $people = $Ticket->Requestors->MembersObj;
while (my $member=$people->Next) {
my $requestor = $member->MemberObj->Object;
my $name=$requestor->RealName || $requestor->EmailAddress;	
my $tickets = RT::Tickets->new($session{'CurrentUser'});
$tickets->LimitRequestor(VALUE => $member->MemberId ); # the principal id
$tickets->LimitStatus( VALUE => 'open');
$tickets->LimitStatus( VALUE => 'new');
$tickets->RowsPerPage(25);
$tickets->OrderBy(FIELD => 'Priority',
		  ORDER => 'DESC');
</%PERL>

% unless ($requestor->Privileged) {
<& /Elements/TitleBoxStart, 
	title => "<a class='inverse' href=\"$RT::WebPath/Admin/Users/Modify.html?id=".$requestor->id."\">".loc("More about [_1]", $name)."</a>" &>

<&|/l&>Comments about this user</&>:<BR>
<B><% ($requestor->Comments || loc("No comment entered about this user")) %></B><BR>

<&|/l&>This user's 25 highest priority tickets</&>:<BR>
<UL>
%while (my $w=$tickets->Next) {
<LI><%$w->Id%>: <a href="<%$RT::WebPath%>/Ticket/Display.html?id=<%$w->id%>"><%$w->Subject%></a> (<%$w->Status%>)
%}
</UL>
<& /Elements/TitleBoxEnd &>

% }
% }
%}
<%ARGS>
$Ticket=>undef
</%ARGS>
