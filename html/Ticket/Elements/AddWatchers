<BR>
<%$msg%><br>

<&|/l&>Add new watchers</&>:<br>

<table>
% if ($Users) {
<tr><td>
<&|/l&>Type</&>
</td><td>
<&|/l&>Username</&>
</td></tr>
% while (my $u = $Users->Next ) {
<tr><td><&/Elements/SelectWatcherType, Name => "Ticket-AddWatcher-Principal-".$u->PrincipalId &></td><td><%$u->Name%> (<%$u->RealName%>)</td></tr>
% }
% }

<tr><td>
<&|/l&>Type</&>
</td><td>
<&|/l&>Email</&>
</td></tr>
<tr><td>
<&/Elements/SelectWatcherType, Name => "WatcherTypeEmail1" &>
</td><td>
<input name="WatcherAddressEmail1" size=15>
</td></tr>
<tr><td>
<&/Elements/SelectWatcherType, Name => "WatcherTypeEmail2" &> 
</td><td>
<input name="WatcherAddressEmail2" size=15>
</td></tr>
<tr><td>
<&/Elements/SelectWatcherType, Name => "WatcherTypeEmail3" &>
</td><td>
<input name="WatcherAddressEmail3" size=15>
</td></tr>
</table>

<%INIT>
my ($msg, $Users);
if ($UserString) {
    $Users = RT::Users->new($session{'CurrentUser'});
    $Users->Limit(FIELD => $UserField,
                 VALUE => $UserString,
                 OPERATOR => $UserOp);
     }
</%INIT>

<%ARGS>
$UserField => 'Name'
$UserOp => '='
$UserString => undef
</%ARGS>
