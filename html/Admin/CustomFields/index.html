<& /Admin/Elements/Header, Title => loc('Select a Custom Field') &>
<& /Admin/Elements/CustomFieldTabs, current_tab => 'Admin/CustomFields/', 
    current_subtab => 'Admin/CustomFields/',
    Title => loc('Select a Custom Field') &>

% my $prev_lookup = '';
% while (my $CustomFieldObj = $CustomFields->Next) { 
%    $CustomFieldObj->CurrentUserHasRight('AdminCustomField') or next;
%    my $lookup = $CustomFieldObj->FriendlyLookupType;
%    if ($lookup ne $prev_lookup) {
%        if ($prev_lookup) {
</UL>
%        }
<H2><% loc("Applies to [_1]", $lookup) %></H2>
<UL>
%        $prev_lookup = $lookup;
%    }
%    
<LI>
<A HREF="Modify.html?id=<%$CustomFieldObj->id()%>"><%$CustomFieldObj->Name%>: <%$CustomFieldObj->Description%></a>
</LI>
% }
% if ($prev_lookup) {
</UL>
% }

<%INIT>
my $CustomFields = RT::CustomFields->new($session{'CurrentUser'});
$CustomFields->UnLimit();
$CustomFields->OrderByCols( { FIELD => 'LookupType' }, { FIELD => 'Name' } );
</%INIT>
